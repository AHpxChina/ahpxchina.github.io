<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="AHpx">
  <!-- Open Graph Data -->
  <meta property="og:title" content="How to Build a document site by Vuepress"/>
  <meta property="og:description" content="Movie, Rock, Book, Coding, My life" />
  <meta property="og:site_name" content="AHpx&#39;s Blog"/>
  <meta property="og:type" content="article" />
  <meta property="og:image" content="https://blog.ahpxchina.cn"/>
  
    <link rel="alternate" href="/atom.xml" title="AHpx&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  <!-- Site Title -->
  <title>AHpx's Blog</title>

  <!-- Bootstrap CSS -->
  
<link rel="stylesheet" href="/css/bootstrap.min.css">

  <!-- Custom CSS -->
  
  
<link rel="stylesheet" href="/css/style.light.css">


  <!-- Google Analytics -->
  

<meta name="generator" content="Hexo 5.4.0"></head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/last_sunsetting_2021.png)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">How to Build a document site by Vuepress</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="/works">
                  
                  Works
                  
                </a>
              </li>
            
              <li>
                <a target="_blank" rel="noopener" href="https://twitter.com/AHpxEx">
                  
                  Twitter
                  
                </a>
              </li>
            
              <li>
                <a target="_blank" rel="noopener" href="https://github.com/SinoAHpx">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="mailto:AHpx@yandex.com">
                  
                  Email
                  
                </a>
              </li>
            
              <li>
                <a href="/about">
                  
                  About
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By AHpx</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2021-08-27</span>
            <span class="time">21:45:44</span>
          </span>
          
          <!--  Categories  -->
            <span class="categories info">Under 

<a href="/categories/web/">web</a>
</span>
          
        </div>
        <!-- Tags -->
        
          <div class="post-tags text-muted">
            Tags: 

<a class="tag" href="/tags/VuePress/">#VuePress</a> <a class="tag" href="/tags/documenting/">#documenting</a>


          </div>
        
        <!-- Post Main Content -->
        <div class="post-content">
          <h1 id="How-to-Build-a-document-site-by-Vuepress"><a href="#How-to-Build-a-document-site-by-Vuepress" class="headerlink" title="How to Build a document site by Vuepress"></a>How to Build a document site by Vuepress</h1><p>Before the beginning, I’d like to answer a question: <strong>Why you write this tutorial?</strong></p>
<p>Yeah, there’s too many others article like this, but most of them assume that you have already learned Vue.js and had some knowledge of website building and deploying. So that’s why I make this article: for people who don’t know what is vue.js and never had a website. Anyway, it’s not a zero-basic tutorial, at least, you should know about some things like <em>what is GitHub?</em> <em>why should I write a document?</em> </p>
<h2 id="Environments"><a href="#Environments" class="headerlink" title="Environments"></a>Environments</h2><p>This tutorial based on Windows 10 platform, and all the examples are under the windows-style.</p>
<h3 id="Node-Js"><a href="#Node-Js" class="headerlink" title="Node.Js"></a>Node.Js</h3><p>Access the official website of <a target="_blank" rel="noopener" href="https://nodejs.org/">Node.js</a>, as you can see, there are 2 green buttons, we should click the left one: LTS version of Node.js</p>
<p><img src="https://i.loli.net/2021/06/05/hNWkjnRq8rXSywi.png" alt="image-20210605211258441"></p>
<p>When it finished, you can see a <em>.msi</em> file like this one:</p>
<p><img src="https://i.loli.net/2021/06/05/zTfSIvnOCYbAHh2.png" alt="image-20210605211512722"></p>
<p>Double click to open it, and keep clicking the <strong>Next</strong> button until the install wizard shows a <strong>Finish</strong> button. Since then, we installed node.js.</p>
<h3 id="Yarn"><a href="#Yarn" class="headerlink" title="Yarn"></a>Yarn</h3><p>Although <em>npm</em>(node package manager) provides all the features, according to the document of the vuepress, <em>yarn</em> would be a better choice than <em>npm</em>.</p>
<p>Let’s access <a target="_blank" rel="noopener" href="https://classic.yarnpkg.com/en/docs/install/#windows-stable">yarn installation site</a>, expand the <strong>Alternatives</strong> section:</p>
<p><img src="https://i.loli.net/2021/06/05/UcS8RCezKZHkanJ.png" alt="image-20210605212346019"></p>
<p>Click the <em>Download Installer Button</em>, after the progress running over, you can get a <em>.msi</em> file, install it like node.js installer.</p>
<h3 id="Git-Optional"><a href="#Git-Optional" class="headerlink" title="Git (Optional)"></a>Git (Optional)</h3><p>This step is optional, but if you do this, your work will be much easier.</p>
<p>Access <a target="_blank" rel="noopener" href="https://git-scm.com/download/win">git official website</a>, you can see the interface like this:</p>
<p><img src="https://i.loli.net/2021/06/05/FN4Xftdeyh8aZqm.png" alt="image-20210605213126512"></p>
<p>Click the button that I marked with a red box, the download will be starting, after then, you will get a git installer executable file, start it and just keep the default configuration.</p>
<p>If install succeeds, you will see 2 git menu in any context menu of windows explorer:</p>
<p><img src="https://i.loli.net/2021/06/05/EHxXiDYlqVOWtZw.png" alt="image-20210605213804014"></p>
<p>As you can see, I marked <em>Git Bash</em>, which is the command terminal we need to instead of windows cmd or Powershell.</p>
<h2 id="Setup-Vuepress"><a href="#Setup-Vuepress" class="headerlink" title="Setup Vuepress"></a>Setup Vuepress</h2><p>Now, we had node.js and yarn, we are ready to start building a vuepress site!</p>
<h3 id="Create-a-Github-repo-for-deploying-Vuepress"><a href="#Create-a-Github-repo-for-deploying-Vuepress" class="headerlink" title="Create a Github repo for deploying Vuepress"></a>Create a Github repo for deploying Vuepress</h3><p>I won’t show how to create a GitHub repo, but I would notice you are:</p>
<p><img src="https://i.loli.net/2021/06/05/AyLHD6hFcGeCtgw.png" alt="image-20210605214554406"></p>
<p>You should choose the .gitignore template to Node, it will be more convenient for you.</p>
<p>Clone the repo that we just created to the local disk, enter the directory that you contains your repo, and open git bash for it.</p>
<h3 id="Install-Vuepress"><a href="#Install-Vuepress" class="headerlink" title="Install Vuepress"></a>Install Vuepress</h3><p>Before work starts, input the command below:</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">yarn init -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>This command means we created a node package with the default configuration. Then we can add vuepress to dependencies of our package:</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">yarn add -D vuepress<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>This command needs about 2 minutes to complete, keep your patience.</p>
<p><img src="https://i.loli.net/2021/06/05/oZF7Q9v5gTNtzfE.png" alt="image-20210605215211625"></p>
<p>Since then, we installed the vuepress local.</p>
<h3 id="Basic-configuration-for-vuepress"><a href="#Basic-configuration-for-vuepress" class="headerlink" title="Basic configuration for vuepress"></a>Basic configuration for vuepress</h3><p>After you installed the vuepress, the structure of your local files should be like this:</p>
<p><img src="https://i.loli.net/2021/06/05/oA8GD2cR6k7FJzE.png" alt="image-20210605215450501"></p>
<p>Open the <em>package.json</em>, add these lines in this JSON file and append <code>.temp</code> in the .gitignore file</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
	<span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"vuepress dev docs --temp .temp"</span><span class="token punctuation">,</span>
	<span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"vuepress build docs"</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>This step is also optional, but if you do this, your progress will be more convenient. In fact, you don’t even need to know what these commands used for, just follow the steps.</p>
<p>Now we created a folder that must named <em>docs</em>,</p>
<p><img src="https://i.loli.net/2021/06/05/HqYn5SAC9Zu84mE.png" alt="image-20210605220029939"></p>
<p>Then we created a file named README.md (just like index.html if you have any website knowledge), write any content you want inside.</p>
<p><img src="https://i.loli.net/2021/06/05/zL6pC4QEfsiNA2Z.png" alt="image-20210605220202704"></p>
<p>Since here, we could serve a local server for our document side, just input this command:</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">yarn dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>When this interface displayed, your local document server has been created.</p>
<p><img src="https://i.loli.net/2021/06/05/oNmGHzTL5dMZh6t.png" alt="image-20210605220517338"></p>
<p>Access <em><a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080</a></em>, you can see an empty vuepress side now:</p>
<p><img src="https://i.loli.net/2021/06/05/te1lTOjEhz3SHrY.png" alt="image-20210605220600598"></p>
<h3 id="config-js"><a href="#config-js" class="headerlink" title="config.js"></a>config.js</h3><p>Create a folder named <em>.vuepress</em> in <em>/doc</em>:</p>
<p><img src="https://i.loli.net/2021/06/05/dgnJRQbjkKvzYWP.png" alt="image-20210605220743591"></p>
<p>Create a javacript file in <em>/.vuepress</em>:</p>
<p><img src="https://i.loli.net/2021/06/05/jnIrx1uJit5l7M8.png" alt="image-20210605220912318"></p>
<p>Add these lines inside:</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  title<span class="token operator">:</span> <span class="token string">'Hello VuePress'</span><span class="token punctuation">,</span>
  description<span class="token operator">:</span> <span class="token string">'Just playing around'</span><span class="token punctuation">,</span>
  base<span class="token operator">:</span> <span class="token string">"/Vuepress4Beginner/"</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>There’s a point you should be noticed, the <em>base</em> key should appear when you trying to deploy your document site on a sub-directory like <em><a target="_blank" rel="noopener" href="http://www.xxxx.com/xxxx">http://www.xxxx.com/xxxx</a></em>, the slash symbol should be beginning, and the end.</p>
<p>Restart your local server, you will see the host had appended your <em>base</em> value</p>
<p><img src="https://i.loli.net/2021/06/05/X49JSvZCfmzWjoG.png" alt="image-20210605221808225"></p>
<p>And you will see the effect of the config.js, a title element displayed in the top-left corner</p>
<p><img src="https://i.loli.net/2021/06/05/kWA6l2rLoGCsuyT.png" alt="image-20210605221900646"></p>
<h3 id="root-README-md"><a href="#root-README-md" class="headerlink" title="root README.md"></a>root README.md</h3><p>Add these lines at the top of <em>root README.md</em>:</p>
<pre class="line-numbers language-YAML" data-language="YAML"><code class="language-YAML">---
home: true
herImage: &#x2F;hero.png
heroText: Hero 标题
tagline: Hero 副标题
actionText: 快速上手 →
actionLink: &#x2F;guide&#x2F;
features:
- title: 简洁至上
  details: 以 Markdown 为中心的项目结构，以最少的配置帮助你专注于写作。
- title: Vue驱动
  details: 享受 Vue + webpack 的开发体验，在 Markdown 中使用 Vue 组件，同时可以使用 Vue 来开发自定义主题。
- title: 高性能
  details: VuePress 为每个页面预渲染生成静态的 HTML，同时在页面被加载的时候，将作为 SPA 运行。
footer: MIT Licensed | Copyright © 2018-present Evan You
---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>You can change the element content as you want, the <em>hereImage</em> key should be removed if you don’t need it. And if you need a big logo on your document home page, you should know some basic knowledge about <a target="_blank" rel="noopener" href="https://vuepress.vuejs.org/guide/assets.html#relative-urls">vuepress asset</a>.</p>
<p>The content below the <a target="_blank" rel="noopener" href="https://jekyllrb.com/docs/front-matter/">YAML font matter</a> will be display as normal markdown content.</p>
<p>Now, I’ll tell you what is ever YAML font matter key-value pair used for:</p>
<ul>
<li>home: this page is used for the home page or not</li>
<li>heroImage: the main logo displayed in the center of the home page</li>
<li>heroText: the main title displayed in the center of the home page</li>
<li>tagline: the subtitle under the heroText</li>
<li>actionText: the text for the central button</li>
<li>actionLink: the jump target for central button</li>
<li>features: some feature under the central button<ul>
<li>title: feature title</li>
<li>details: feature description</li>
</ul>
</li>
<li>footer: the text display in the footer of the site</li>
</ul>
<p><img src="https://i.loli.net/2021/06/05/IHVN6rb1lGD3y7Q.png" alt="image-20210605223618117"></p>
<h3 id="Add-navigate-links"><a href="#Add-navigate-links" class="headerlink" title="Add navigate links"></a>Add navigate links</h3><p>Open <em>config.js</em>, and add these lines:</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">themeConfig<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  nav<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span> text<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span> link<span class="token operator">:</span> <span class="token string">'/'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> text<span class="token operator">:</span> <span class="token string">'Guide'</span><span class="token punctuation">,</span> link<span class="token operator">:</span> <span class="token string">'/guide/'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> text<span class="token operator">:</span> <span class="token string">'External'</span><span class="token punctuation">,</span> link<span class="token operator">:</span> <span class="token string">'https://google.com'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>As you can see, there’s an array named <em>nav</em>, you can add its member like:</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span> text<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span> link<span class="token operator">:</span> <span class="token string">'/'</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>text: the text display in navigate bar</li>
<li>link: the link for navigating, you can use a relative or absolute URL</li>
</ul>
<p>If you would like to know about the navigation bar, you can visit <a target="_blank" rel="noopener" href="https://vuepress.vuejs.org/theme/default-theme-config.html#navbar-links">navbar links</a> in vuepress document.</p>
<h3 id="Start-writing"><a href="#Start-writing" class="headerlink" title="Start writing"></a>Start writing</h3><p>After all of these configurations, now you can start to write documents via markdown.</p>
<p>Create a folder named <em>guide</em> in /docs:</p>
<p><img src="https://i.loli.net/2021/06/05/Y2htFld3NbVpXJr.png" alt="image-20210605223831721"></p>
<p>Create a README.me in /docs/guide</p>
<p><img src="https://i.loli.net/2021/06/05/Vo4z3FyeCYpvW7O.png" alt="image-20210605223942377"></p>
<p>Add this YAML font matter at the top of this README.md:</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">sidebar</span><span class="token punctuation">:</span> auto
<span class="token punctuation">---</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>Enjoy!</p>
<p><img src="https://i.loli.net/2021/06/05/IszYhVKlRygdTH6.png" alt="image-20210605224226895"></p>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>This is how the document site looks like after the above configurations, </p>
<p><img src="https://i.loli.net/2021/06/05/qO9lp3JhBR7Ew58.png" alt="image-20210605225004660"></p>
<p>I’ll list some point that you maybe didn’t know:</p>
<ul>
<li>REAME.md equals to index.html in website building</li>
<li>The local file structure of our example:<ul>
<li>.temp</li>
<li>docs<ul>
<li>.vuepress<ul>
<li>config.js</li>
</ul>
</li>
<li>guide<ul>
<li>README.md</li>
</ul>
</li>
<li>README.md</li>
</ul>
</li>
<li>node_modules</li>
<li>.gitignore</li>
<li>package.json</li>
<li>yarn.lock</li>
</ul>
</li>
</ul>
<h2 id="Deploy"><a href="#Deploy" class="headerlink" title="Deploy"></a>Deploy</h2><p>After all the work above, now we can deploy our document site to GitHub pages, maybe you would like to try another deployment, so you can check out <a target="_blank" rel="noopener" href="https://vuepress.vuejs.org/guide/deploy.html#github-pages">vuepress document</a>.</p>
<h3 id="Create-deploy-script"><a href="#Create-deploy-script" class="headerlink" title="Create deploy script"></a>Create deploy script</h3><p>Create a .sh file named deploy.sh in the root directory</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">#!&#x2F;usr&#x2F;bin&#x2F;env sh

# abort on errors
set -e

# build
npm run build

# navigate into the build output directory
cd docs&#x2F;.vuepress&#x2F;dist

# if you are deploying to a custom domain
# echo &#39;www.example.com&#39; &gt; CNAME

git init
git add -A
git commit -m &#39;deploy&#39;

# if you are deploying to https:&#x2F;&#x2F;&lt;USERNAME&gt;.github.io
# git push -f git@github.com:&lt;USERNAME&gt;&#x2F;&lt;USERNAME&gt;.github.io.git master

# if you are deploying to https:&#x2F;&#x2F;&lt;USERNAME&gt;.github.io&#x2F;&lt;REPO&gt;
# git push -f git@github.com:&lt;USERNAME&gt;&#x2F;&lt;REPO&gt;.git master:gh-pages

cd -<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>I’d like to recommend that you shouldn’t just push the static pages to your master branch, your master branch should be storage your development environment. So you can just push them to another branch.</p>
<p>Since then, you should add this line in the config.js:</p>
<pre class="line-numbers language-none"><code class="language-none">&quot;deploy&quot;: &quot;bash deploy.sh&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>And then config.js should look like:</p>
<p><img src="https://i.loli.net/2021/06/05/zXGdl3vxDHA8oCK.png" alt="image-20210605231251492"></p>
<p>As you can see, we are using the windows operating system, but there’s a <code>bash</code> command that’s didn’t exist in windows. How to solve this? The answer is: we don’t even need to solve because we are using git bash. That’s why I recommended you to choose git bash but not the windows cmd or Powershell.</p>
<p>Now, just run</p>
<pre class="line-numbers language-none"><code class="language-none">yarn deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>Then, turn to GitHub, open the repo for hosting the vuepress document, turn to the <em>Setting</em> page:</p>
<p><img src="https://i.loli.net/2021/06/05/OuDRpXc6NbEkF9o.png" alt="image-20210605231615793"></p>
<p>And go to the Pages section, set the source branch to gh:pages, click save. Just wait for moments, then access your page.</p>
<p><img src="https://i.loli.net/2021/06/05/1kPFQTShXsvGf8r.png" alt="image-20210605231713557"></p>
<p>Congratulations! You’ve done all the work!</p>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->

<script src="/js/highlight.pack.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

